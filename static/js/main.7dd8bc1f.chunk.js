(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{102:function(e,t,a){},103:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},104:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var n,r,c=a(0),o=a.n(c),l=a(9),s=a.n(l),i=(a(102),a(103),a(104),a(60)),u=a(14),m=a(7),p=a.n(m),d=a(18),f=a(19),b=a(29),h=a(58),E=a(62),j=a(159),O=a(171),g=a(163),v=a(174),w=a(12),y=a(172),k=a(27),N=a(175),A=Object(N.a)("GET_AUTH_REQUEST"),x=Object(N.a)("GET_AUTH_SUCCESS"),_=Object(N.a)("GET_AUTH_FAILURE"),F=Object(y.a)((n={},Object(w.a)(n,x,(function(e,t){return t.payload.token})),Object(w.a)(n,_,(function(){return null})),n),null),z=Object(y.a)((r={},Object(w.a)(r,x,(function(){return!0})),Object(w.a)(r,_,(function(){return!1})),r),!1),C=Object(y.a)(Object(w.a)({},_,(function(e,t){return"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438"})),null),S=Object(k.c)({token:F,isAuthorized:z,error:C}),T=a(50),U=a.n(T),P=function(e){return e.token},q=function(e){return e.isAuthorized},L=function(e){return e.error},R=(a(127),{fetchAuthRequest:A}),G=Object(b.b)((function(e){return{isAuthorized:q(e),error:L(e)}}),R)((function(e){var t=Object(h.a)(),a=t.register,n=t.handleSubmit,r=t.errors,l=t.setValue,s=e.fetchAuthRequest,i=e.isAuthorized,u=e.error,m=Object(c.useState)(!1),b=Object(f.a)(m,2),w=b[0],y=b[1];Object(c.useEffect)((function(){l("login","test_super"),l("password","Nf<U4f<rDbtDxAPn"),null!=u&&y(!0)}),[i,u,l]);var k=function(){var t=Object(d.a)(p.a.mark((function t(a){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.login,r=a.password,t.next=3,s({login:n,password:r});case 3:e.history.push("/table");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return o.a.createElement("div",{className:"divForForm"},o.a.createElement(j.a,{className:"cardForForm"},o.a.createElement("form",{onSubmit:n(k)},o.a.createElement(E.a,{as:o.a.createElement(O.a,{className:"textFieldForLoginForm",label:"\u041b\u043e\u0433\u0438\u043d",color:"secondary",type:"text",error:null!=r.login}),rules:{required:!0},helperText:H(r.login),name:"login",register:a,setValue:l}),o.a.createElement("br",null),o.a.createElement(E.a,{as:o.a.createElement(O.a,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",color:"secondary",type:"text",className:"textFieldForLoginForm",error:null!=r.password}),helperText:H(r.password),rules:{required:!0},name:"password",register:a,setValue:l}),o.a.createElement("br",null),o.a.createElement(g.a,{type:"submit",value:"\u0412\u043e\u0439\u0442\u0438"},"\u0412\u043e\u0439\u0442\u0438"))),o.a.createElement(v.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:w,onClose:function(){y(!1)},ContentProps:{"aria-describedby":"message-id"},message:o.a.createElement("span",{id:"message-id"},u)}))}));function H(e){return void 0!==e&&"required"===e.type?"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e":null}var I=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(G,e))},V=a(17),B=a(164),D=a(133),J=a(176),W=a(177),Q=a(165),$=a(166),K=a(167),M=a(168),X=a(169),Y=a(170),Z=a(85),ee=a.n(Z),te=(a(128),Object(b.b)((function(e){return{isAuthorized:q(e),token:P(e)}}))((function(e){var t=e.token,a=Object(c.useState)([]),n=Object(f.a)(a,2),r=n[0],l=n[1],s=Object(c.useState)([]),i=Object(f.a)(s,2),u=i[0],m=i[1],b=o.a.useState("asc"),h=Object(f.a)(b,2),E=h[0],j=h[1],O=Object(c.useState)(""),g=Object(f.a)(O,2),v=g[0],w=g[1],y=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.get("https://emphasoft-test-assignment.herokuapp.com/api/v1/users/",{headers:{Accept:"application/json",Authorization:"Token ".concat(t)}});case 2:a=e.sent,l(a.data),m(a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){y(t)}),[]);var k=function(e){j("asc"===E?"desc":"asc"),N(E)},N=function(e){"asc"===e&&u.sort((function(e,t){return e.id>t.id?1:-1})),"desc"===e&&u.sort((function(e,t){return e.id<t.id?1:-1}))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(B.a,{className:"tableConteiner",component:D.a},o.a.createElement(J.a,{active:!0,direction:E,onClick:k,className:"button-for-mobile"},"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u043d\u043e\u043c\u0435\u0440\u0443"),o.a.createElement(W.a,{placeholder:"\u0424\u0438\u043b\u044c\u0442\u0440 \u043f\u043e \u043b\u043e\u0433\u0438\u043d\u0443",inputProps:{"aria-label":"search google maps"},value:v,onChange:function(e){w(e.target.value)}}),o.a.createElement(Q.a,{"aria-label":"search",onClick:function(e){var t=Object(V.a)(r);m(t),m(t.filter((function(e){return e.username.toLowerCase().indexOf(v.toLowerCase())>-1})))}},o.a.createElement(ee.a,null)),o.a.createElement($.a,{className:"tableInner","aria-label":"simple table"},o.a.createElement(K.a,{className:"table-head"},o.a.createElement(M.a,null,o.a.createElement(X.a,{className:"cell_header"},o.a.createElement(J.a,{active:!0,direction:E,onClick:k},"\u2116")),o.a.createElement(X.a,{className:"cell_header"},"\u0418\u043c\u044f"),o.a.createElement(X.a,{className:"cell_header"},"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),o.a.createElement(X.a,{className:"cell_header"},"\u041b\u043e\u0433\u0438\u043d"),o.a.createElement(X.a,{className:"cell_header"},"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c"),o.a.createElement(X.a,{className:"cell_header"},"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"))),o.a.createElement(Y.a,null,u.map((function(e){return o.a.createElement(M.a,{component:"tr",key:e.id},o.a.createElement(X.a,{className:"cell","aria-label":"\u041d\u043e\u043c\u0435\u0440"},e.id),o.a.createElement(X.a,{className:"cell","aria-label":"\u0418\u043c\u044f"},e.first_name),o.a.createElement(X.a,{className:"cell","aria-label":"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"},e.last_name),o.a.createElement(X.a,{className:"cell","aria-label":"\u041b\u043e\u0433\u0438\u043d"},e.username),o.a.createElement(X.a,{className:"cell","aria-label":"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c"},!0===e.is_active?"yes":"no"),o.a.createElement(X.a,{className:"cell","aria-label":"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"},!0===e.is_superuser?"yes":"no"))}))))))}))),ae=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"),o.a.createElement(te,e))},ne=a(87),re=function(e){var t=e.component,a=e.isAuthorized,n=e.loginPath,r=Object(ne.a)(e,["component","isAuthorized","loginPath"]);return o.a.createElement(u.b,Object.assign({},r,{render:function(e){return a?o.a.createElement(t,e):o.a.createElement(u.a,{to:n})}}))},ce=Object(b.b)((function(e){return{isAuthorized:q(e)}}))((function(e){var t=e.isAuthorized;return o.a.createElement("div",{className:"App"},o.a.createElement(i.a,{basename:"/list_of_users"},o.a.createElement(u.d,null,o.a.createElement(re,{path:"/table",component:ae,exact:!0,isAuthorized:t,loginPath:"/"}),o.a.createElement(u.b,{path:"/",render:function(e){return o.a.createElement(I,e)},exact:!0}),o.a.createElement(u.b,{path:"/",component:!0===t?ae:I,exact:!0}),o.a.createElement(u.a,{to:"/"}))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=a(86),le=Object(k.e)(S,{token:null,isAuthorized:!1,error:null},Object(k.d)(Object(k.a)(oe.a),Object(k.a)((function(e){return function(t){return function(){var a=Object(d.a)(p.a.mark((function a(n){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.type!==A.toString()){a.next=3;break}return a.next=3,U.a.post("https://emphasoft-test-assignment.herokuapp.com/api-token-auth/",{username:n.payload.login,password:n.payload.password},{headers:{"Content-Type":"application/json"}}).then((function(t){200===t.status?e.dispatch(x(t.data)):e.dispatch(_("error"))})).catch((function(t){e.dispatch(_(t))}));case 3:return r=t(n),a.abrupt("return",r);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}}))));s.a.render(o.a.createElement(b.a,{store:le},o.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},97:function(e,t,a){e.exports=a(132)}},[[97,1,2]]]);
//# sourceMappingURL=main.7dd8bc1f.chunk.js.map